{% extends 'base.html' %}

{% block content %}
    <section class="about">
        <div class="container content">
            <div class="row">
                <div class="col-sm-12 text-center about-title">
                    <h2>Login to Chrysalis Coding</h2>
                </div>
            </div>
            <div class="row about-row">
                <div class="col-sm-12 col-lg-6 text-center">
                    {% if 'username' in session %}
                        <p class="page-desc">You are already logged in!</p>
                    {% else %}
                        <p class="page-desc">
                            Login to Chrysalis Coding and become inspired by interacting/viewing with the wider community at large.
                            Read posts left by others, detailing their experiences in the field. Learn from them, or add to their
                            experiences so that the future has solid footholds in this industry. Women in Tech now have a place to
                            share experiences and experience them together!
                        </p>
                        <p class="page-desc">
                            You can create/update/delete your own posts, while having the ability to upvote posts from your peers within
                            the community. As this application develops, its reach will grow and the community of like minded individuals
                            will develop and shape this apps future. Login, get involved, and be an advocate for Women in Tech everywhere.
                        </p>
                    {% endif %}
                </div>
                <div class="col-sm-12 col-lg-6 text-center">
                    <img src="{{ url_for('static', filename='images/login-wit.jpg') }}" alt="Woman in Tech Coding" class="registerlogin-wit img-fluid">
                </div>
            </div>
        </div>
    </section>

    <div class="section">
        <div class="container">
            <div class="form">
                <div class="row form-row">
                    <div class="col-sm-12 custom-form">
                        <h2 class="text-center">Login</h2>
                        <div class="text-center">
                            {% with alerts = get_flashed_messages(with_categories=true) %}
                                {% if alerts %}
                                    {% for category, alert in alerts %}
                                        <div class="alert alert-{{category}}">
                                            {{ alert }}
                                        </div>
                                    {% endfor %}
                                {% endif %}
                            {% endwith %}
                        </div>
    
                        <form action="" method="POST">
                            {{ form.hidden_tag() }}
    
                            <div class="form-group">
                                {{ form.username.label(class="form-control-label") }}
                                {% if form.username.errors %}
                                    {{ form.username(class="form-control is-invalid") }}
                                    <div class="form-errors">
                                        {% for error in form.username.errors %}
                                            <span>{{ error }}</span>
                                        {% endfor %}
                                    </div>
                                {% else %}
                                    {{ form.username(class="form-control", placeholder="Please enter username.", required=False) }}
                                {% endif %}
                            </div>
    
                            <div class="form-group">
                                {{ form.password.label(class="form-control-label") }}
                                {% if form.password.errors %}
                                    {{ form.password(class="form-control is-invalid") }}
                                    <div class="form-errors">
                                        {% for error in form.password.errors %}
                                            <span>{{ error }}</span>
                                        {% endfor %}
                                    </div>
                                {% else %}
                                    {{ form.password(class="form-control", placeholder="Please enter password.", required=False) }}
                                {% endif %}
                            </div>
    
                            <div class="form-group text-center mt-4">
                                {{ form.submit(class="btn btn-primary") }}
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}